# OPNsense MCP Server - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED: OPNsense Connection
# =============================================================================

# OPNsense API URL (include port if non-standard)
OPNSENSE_URL=https://192.168.1.1
# OPNSENSE_URL=https://opnsense.local:8443

# API credentials (generate in OPNsense: System → Access → Users → API keys)
OPNSENSE_API_KEY=your-api-key-here
OPNSENSE_API_SECRET=your-api-secret-here

# =============================================================================
# OPTIONAL: SSL Configuration
# =============================================================================

# Set to 'false' for self-signed certificates (default: true)
OPNSENSE_VERIFY_SSL=false

# =============================================================================
# OPTIONAL: Plugin Support
# =============================================================================

# Enable 64 additional plugin module tools (default: false)
# NOTE: Must be 'true' if you want to use TOOLS_INCLUDE/TOOLS_EXCLUDE on plugins
# INCLUDE_PLUGINS=true

# =============================================================================
# OPTIONAL: Tool Filtering (reduce context window usage)
# =============================================================================

# Only load tools matching these patterns (comma-separated globs)
# Patterns: * = any chars, ? = single char, ! = negation, case-insensitive
# Patterns are processed left-to-right, later patterns override earlier ones
#
# Core tools only (INCLUDE_PLUGINS not required):
#   firewall_*                    - Only firewall tools
#   firewall_*,unbound_*          - Firewall and DNS tools
#   !diagnostics_*                - All core tools EXCEPT diagnostics
#
# Plugin tools (INCLUDE_PLUGINS=true required):
#   plugin_caddy*,plugin_nginx*   - Only Caddy and Nginx plugins
#
# Mixed core + plugins (INCLUDE_PLUGINS=true required):
#   *,!plugin_*,plugin_caddy*     - All core + only Caddy plugin
#   *,!plugin_*,plugin_caddy*,!diagnostics_*  - All core except diagnostics + Caddy
#
TOOLS_INCLUDE=firewall_*,unbound_*

# Exclude tools matching these patterns (comma-separated globs)
# Note: You can also use ! negation in TOOLS_INCLUDE instead
# Examples:
#   diagnostics_*                 - Exclude diagnostics
#   plugin_haproxy*               - Exclude HAProxy (requires INCLUDE_PLUGINS=true)
# TOOLS_EXCLUDE=

# =============================================================================
# OPTIONAL: Server Configuration
# =============================================================================

# External port for the MCP server (default: 3000)
# Change this if port 3000 is already in use
MCP_PORT=3000
